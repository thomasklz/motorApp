"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1790],{1790:(O,d,c)=>{c.r(d),c.d(d,{PersonPage:()=>C});var g,M=c(177),z=c(4341),l=c(7774),p=function(o,a){var t=function(){if(typeof window>"u")return new Map;if(!g){var o=window;o.Ionicons=o.Ionicons||{},g=o.Ionicons.map=o.Ionicons.map||new Map}return g}(),i=t.get(o);void 0===i?t.set(o,a):i!==a&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(o,'". Ensure that multiple icons are not mapped to the same icon name.'))},s=c(4438),H=c(6715),u=c(1626);let V=(()=>{var o;class a{constructor(i){this.http=i}updatePerson(i,n,e,h,A,S){const y={id:i,name:n,lastname:e,ci:h,address:A,phone:S},j=(new u.Lr).set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.put("http://127.0.0.1:3000/api/person/"+i,y,{headers:j})}}return(o=a).\u0275fac=function(i){return new(i||o)(s.KVO(u.Qq))},o.\u0275prov=s.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),a})(),C=(()=>{var o;class a{constructor(i,n){this.usuarioService=i,this.personService=n,this.editDatos=!0,this.personid=localStorage.getItem("id"),function(o){Object.keys(o).forEach(function(a){p(a,o[a]);var t=a.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();a!==t&&p(t,o[a])})}({pencil:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='44' d='M358.62 129.28L86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zM413.07 74.84l-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 000-23.34l-.75-.75a16.51 16.51 0 00-23.35 0z' class='ionicon-fill-none'/></svg>"})}ngOnInit(){this.viewProfile()}editPerfil(){this.editDatos=!1}viewProfile(){this.usuarioService.getOneUser(this.personid).subscribe({next:i=>{this.profile=i.user},error:i=>{}})}updatePerson(){const i=localStorage.getItem("idp");this.personService.updatePerson(i,"tomas","vera","23","porto",987).subscribe({next:n=>{this.viewProfile()},error:n=>{}})}}return(o=a).\u0275fac=function(i){return new(i||o)(s.rXU(H.o),s.rXU(V))},o.\u0275cmp=s.VBU({type:o,selectors:[["app-person"]],standalone:!0,features:[s.aNF],decls:42,vars:10,consts:[["nombre",""],["apellido",""],["slot","end",3,"click"],["slot","end","name","pencil"],[1,"profile-container"],["lines","none",1,"profile-header"],["slot","start"],["src","assets/avatar-placeholder.png","alt","Profile"],["fill","clear",1,"edit-avatar-button"],["position","stacked"],[3,"disabled","value"],["lines","none",1,"footer-item"],[3,"click"]],template:function(i,n){if(1&i){const e=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",2),s.bIt("click",function(){return s.eBV(e),s.Njj(n.editPerfil())}),s.nrm(3,"ion-icon",3),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Perfil"),s.k0s()()(),s.j41(6,"ion-content")(7,"ion-list",4)(8,"ion-item",5)(9,"ion-avatar",6),s.nrm(10,"img",7),s.k0s(),s.j41(11,"ion-button",8),s.EFF(12,"Edit picture or avatar"),s.k0s()(),s.j41(13,"ion-item")(14,"ion-label",9),s.EFF(15,"Name"),s.k0s(),s.nrm(16,"ion-input",10,0),s.k0s(),s.j41(18,"ion-item")(19,"ion-label",9),s.EFF(20,"Lastname"),s.k0s(),s.nrm(21,"ion-input",10,1),s.k0s(),s.j41(23,"ion-item")(24,"ion-label",9),s.EFF(25,"CI"),s.k0s(),s.nrm(26,"ion-input",10),s.k0s(),s.j41(27,"ion-item")(28,"ion-label",9),s.EFF(29,"Address"),s.k0s(),s.nrm(30,"ion-input",10),s.k0s(),s.j41(31,"ion-item")(32,"ion-label",9),s.EFF(33,"Phone"),s.k0s(),s.nrm(34,"ion-input",10),s.k0s()(),s.j41(35,"ion-list")(36,"ion-item",11)(37,"ion-label",12),s.bIt("click",function(){return s.eBV(e),s.Njj(n.updatePerson())}),s.EFF(38,"Cambiar usuario"),s.k0s()(),s.j41(39,"ion-item",11)(40,"ion-label"),s.EFF(41,"Cambiar password"),s.k0s()()()()}2&i&&(s.R7$(16),s.FS9("value",n.profile.person.name),s.Y8G("disabled",n.editDatos),s.R7$(5),s.FS9("value",n.profile.person.lastname),s.Y8G("disabled",n.editDatos),s.R7$(5),s.FS9("value",n.profile.person.ci),s.Y8G("disabled",n.editDatos),s.R7$(4),s.FS9("value",n.profile.person.address),s.Y8G("disabled",n.editDatos),s.R7$(4),s.FS9("value",n.profile.person.phone),s.Y8G("disabled",n.editDatos))},dependencies:[l.QW,l.iq,l.Jm,l.mC,l.$w,l.nf,l.he,l.uz,l.W9,l.eU,l.BC,l.ai,M.MD,z.YN],styles:['@charset "UTF-8";.profile-container[_ngcontent-%COMP%]{padding:16px}.profile-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.edit-avatar-button[_ngcontent-%COMP%]{margin-top:8px}.footer-item[_ngcontent-%COMP%]{color:var(--ion-color-primary)}']}),a})()}}]);